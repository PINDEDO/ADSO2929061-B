<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Atrapa la Fruta</title>
  <style>
    #game {
  position: relative;
  width: 400px;
  height: 500px;
  border: 2px solid black;
  margin: 20px auto;
  overflow: hidden;
  background-color: #f0f8ff;
}

#player {
  position: absolute;
  bottom: 10px;
  left: 180px;
  width: 40px;
  height: 40px;
  background-color: blue;
}

#fruit {
  position: absolute;
  top: 0;
  width: 30px;
  height: 30px;
  background-color: red;
  border-radius: 50%;
}
  </style>
</head>
<body>
  <div id="game">
    <div id="player"></div>
    <div id="fruit"></div>
    <div id="score">Puntos: 0</div>
    <div id="lives">Vidas: 3</div>
  </div>
  <script>
    // Elementos del juego
const player = document.getElementById("player");
const fruit = document.getElementById("fruit");
const scoreDiv = document.getElementById("score");
const livesDiv = document.getElementById("lives");

// Variables del juego
let playerX = 180;
let fruitY = 0;
let fruitX = 0;

let score = 0
let lives = 3

// Mover jugador con teclas
document.addEventListener("keydown", function(e) {
  if (e.key === "ArrowLeft" && playerX > 0) {
    playerX -= 20;
  }
  if (e.key === "ArrowRight" && playerX < 360) {
    playerX += 20;
  }
  player.style.left = playerX + "px";
});

// Mover fruta cada cierto tiempo
function moveFruit() {
  fruitY += 10;
  fruit.style.top = fruitY + "px";

  // Si la fruta llega al fondo
  if (fruitY > 470) {
    checkCollision(); // Verificar si se atrapó
    resetFruit();
  }
}

// Colocar fruta en posición aleatoria
function resetFruit() {
  fruitY = 0;
  fruitX = Math.floor(Math.random() * 370); // entre 0 y 370
  fruit.style.left = fruitX + "px";
  fruit.style.top = "0px";
}

// Verificar si el jugador atrapó la fruta
function checkCollision() {
  const playerRect = player.getBoundingClientRect();
  const fruitRect = fruit.getBoundingClientRect();

  if (
    fruitRect.left < playerRect.right &&
    fruitRect.right > playerRect.left &&
    fruitRect.top < playerRect.bottom &&
    fruitRect.bottom > playerRect.top
  ) {
    score++;
    scoreDiv.textContent = "Puntos: " + score
  } else {
    lives--;
    livesDiv.textContent = "Vidas: " + lives

    if (lives <= 0) {
      alert("¡Juego terminado! Puntos: " + score);
      clearInterval(gameInterval);
    }
  }
}

// Iniciar el juego
resetFruit();
const gameInterval = setInterval(moveFruit, 200);
  </script>
</body>
</html>